<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>나에게 맞는 VPN 추천가이드</title>
  <meta name="description" content="VPN 사용 목적에 따라 나에게 맞는 VPN 추천 링크를 안내하는 가이드" />
  <style>
    :root{
      --bg:#cfa6e7;        /* 배경(보라 그라데) */
      --card:#ffffff;       /* 카드 배경 */
      --text:#1b1b1b;       /* 본문 텍스트 */
      --muted:#5b5b5b;      /* 보조 텍스트 */
      --primary:#4a2a74;    /* 포인트 컬러 */
      --primary-contrast:#ffffff;
      --ring:rgba(74,42,116,0.35); /* 포커스 링 */
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; background:var(--bg); color:var(--text); font-family:system-ui,-apple-system,Segoe UI,Roboto,Pretendard,Noto Sans KR,Apple SD Gothic Neo,sans-serif; display:grid; grid-template-rows:auto 1fr auto}

    header{padding:32px 20px 16px; text-align:center; color:#fff}
    header h1{margin:0; font-size:clamp(22px,4vw,36px); line-height:1.15; font-weight:800; letter-spacing:-.02em; text-shadow:0 1px 0 rgba(0,0,0,.1), 0 2px 8px rgba(0,0,0,.15)}

    .container{width:min(900px,92vw); margin:0 auto 36px; background:var(--card); border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,.15); padding:clamp(18px,3.2vw,28px)}

    fieldset{border:0; padding:0; margin:0 0 22px}
    legend{font-weight:700; margin-bottom:12px; font-size:16px}

    .options{display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:10px}
    @media (max-width:640px){ .options{grid-template-columns:repeat(2,minmax(0,1fr))} }

    .radio{position:relative}
    .radio input{position:absolute; opacity:0; inset:0}
    .radio label{display:block; width:100%; padding:12px 14px; border:1.5px solid #e5e5e8; border-radius:12px; background:#fff; color:var(--text); text-align:center; font-weight:600; cursor:pointer; user-select:none; transition:box-shadow .2s ease, border-color .2s ease, transform .02s ease}
    .radio label:hover{border-color:#d6d6db}
    .radio input:focus-visible + label{outline:0; box-shadow:0 0 0 4px var(--ring)}
    .radio input:checked + label{border-color:var(--primary); box-shadow:0 6px 18px rgba(74,42,116,.18); transform:translateY(-1px)}

    .hint{color:var(--muted); font-size:13px; margin-top:6px}

    .actions{margin-top:16px; display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end}
    button{appearance:none; border:0; border-radius:999px; padding:14px 18px; font-weight:800; letter-spacing:.02em; cursor:pointer; transition:transform .06s ease, box-shadow .2s ease, opacity .2s ease}
    button.primary{background:var(--primary); color:var(--primary-contrast); box-shadow:0 10px 24px rgba(74,42,116,.25)}
    button.primary:hover{box-shadow:0 16px 32px rgba(74,42,116,.32)}
    button.primary:active{transform:translateY(1px)}
    button.secondary{background:#f3f3f6; color:#2a2a2a}
    button[disabled]{opacity:.6; cursor:not-allowed; box-shadow:none}

    .msg{font-size:13px; color:#a40000; min-height:1.2em}

    .result{margin-top:12px; padding:12px 14px; border:1px dashed #d9d5e3; border-radius:12px; background:#fbf9ff; color:#3a2b52; font-size:14px}
    .result a{font-weight:800; color:#1a0f3b; text-decoration:underline}

    footer{text-align:center; padding:12px 16px 28px; font-size:12px; color:rgba(255,255,255,.85)}
  </style>
</head>
<body>
  <header>
    <h1>나에게 맞는 VPN 추천가이드</h1>
  </header>

  <main class="container" role="main">
    <form id="vpn-form" novalidate>
      <fieldset>
        <legend>VPN을 사용하려는 목적은 무엇인가요?</legend>
        <div class="options" role="radiogroup" aria-label="VPN 사용 목적 선택">
          <div class="radio">
            <input type="radio" id="purpose-transfer" name="purpose" value="transfer">
            <label for="purpose-transfer">데이터 전송</label>
          </div>
          <div class="radio">
            <input type="radio" id="purpose-privacy" name="purpose" value="privacy">
            <label for="purpose-privacy">익명성 유지</label>
          </div>
          <div class="radio">
            <input type="radio" id="purpose-bypass" name="purpose" value="bypass">
            <label for="purpose-bypass">사이트 우회</label>
          </div>
          <div class="radio">
            <input type="radio" id="purpose-blocked" name="purpose" value="blocked">
            <label for="purpose-blocked">차단 사이트 접속</label>
          </div>
        </div>
        <p class="hint">이용 목적에 따라 추천 링크가 달라집니다.</p>
      </fieldset>

      <div class="actions">
        <button id="go" type="button" class="primary" disabled>추천 보러가기</button>
      </div>
      <p id="msg" class="msg" aria-live="polite"></p>
      <div id="result" class="result" style="display:none"></div>
    </form>
  </main>

  <footer>이용 목적을 선택하면 추천 VPN 링크로 이동합니다.</footer>

  <script>
    const form = document.getElementById('vpn-form');
    const goBtn = document.getElementById('go');
    const msgEl = document.getElementById('msg');
    const resultEl = document.getElementById('result');

    const getValue = (name) => {
      // 선택된 라디오 버튼(name 기준)을 제대로 찾도록 CSS 선택자 수정
      const el = form.querySelector(`input[name="${name}"]:checked`);
      return el ? el.value : '';
    };

    function syncUI(){
      const purpose = getValue('purpose');
      const ready = !!purpose;
      goBtn.disabled = !ready;
      msgEl.textContent = ready ? '' : '이용 목적을 선택해 주세요.';
    }

    form.addEventListener('change', syncUI);
    form.addEventListener('reset', () => {
      setTimeout(() => {
        syncUI();
        resultEl.style.display = 'none';
        resultEl.textContent = '';
      }, 0);
    });

    function decideLink(purpose){
      // (1) 데이터 전송
      if(purpose === 'transfer'){
        return 'https://link.coupang.com/a/c54u7l';
      }

      // (2) 익명성 유지 (3) 사이트 우회 (4) 차단 사이트 접속
      if(purpose === 'privacy' || purpose === 'bypass' || purpose === 'blocked'){
        return 'https://go.nordvpn.net/aff_c?offer_id=266&aff_id=89429';
      }

      return null;
    }

    function summaryText(purpose){
      const mapPurpose = {
        transfer:'데이터 전송',
        privacy:'익명성 유지',
        bypass:'사이트 우회',
        blocked:'차단 사이트 접속'
      };
      return `선택하신 목적: <b>${mapPurpose[purpose]}</b>`;
    }

    goBtn.addEventListener('click', () => {
      const purpose = getValue('purpose');
      const url = decideLink(purpose);

      if(!url){
        msgEl.textContent = '선택값을 다시 확인해 주세요.';
        return;
      }

      // 결과 영역 표시 + 링크
      resultEl.style.display='block';
      resultEl.innerHTML = `${summaryText(purpose)} · <a href="${url}" target="_blank" rel="noopener noreferrer nofollow sponsored">추천 링크 열기</a>`;

      // 즉시 새 탭으로 열기
      const a = document.createElement('a');
      a.href = url;
      a.target = '_blank';
      a.rel = 'noopener noreferrer nofollow sponsored';
      document.body.appendChild(a);
      a.click();
      a.remove();
      msgEl.textContent = '';
    });

    // 초기 동기화
    syncUI();
  </script>
</body>
</html>
